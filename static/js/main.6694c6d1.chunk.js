(this["webpackJsonpscore-keeper"]=this["webpackJsonpscore-keeper"]||[]).push([[0],{67:function(e,t,r){e.exports=r(78)},72:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"getWinner",(function(){return b})),r.d(n,"updateScore",(function(){return h}));var a=r(0),o=r.n(a),c=r(7),l=r.n(c),i=r(117),s=(r(72),r(116)),u=r(15),p=r.n(u),d=r(114),f=r(56),m=r(28),v=r(32),y=r(12),b=function(e){var t=function(e){return e.player1>e.player2?["player1","player2"]:e.player1<e.player2?["player2","player1"]:["drawing"]}(e);if("drawing"===t[0])return null;var r=e[t[0]]>20&&e[t[0]]>e[t[1]]+1,n=30===e[t[0]];return r||n?t[0]:null},h=function(e,t){return null!==b(e)?null:e[t]+1},g=function(e,t){var r=function(e){if(e)return n;throw new Error("pass required rules")}("badminton"),a=r.updateScore(e.scores.current,t);if(null===a)return e;var o=Object(y.a)(Object(y.a)({},e.scores.current),{},Object(v.a)({},t,a)),c=r.getWinner(o);return Object(y.a)(Object(y.a)({},e),{},{winner:c,showAlert:null!==c,scores:{previous:[].concat(Object(m.a)(e.scores.previous),[Object(y.a)({},e.scores.current)]),current:o,next:[]}})};function w(e,t){switch(t.type){case"updateScore":return g(e,t.payload);case"updatePlayerName":return function(e,t){return t.payload.name?Object(y.a)(Object(y.a)({},e),{},Object(v.a)({},t.payload.player,t.payload.name)):e}(e,t);case"reset":return Object(y.a)({},O);case"undo":return function(e){if(!e.scores.previous.length)return e;var t=Object(m.a)(e.scores.previous),r=t.pop(),n=[].concat(Object(m.a)(e.scores.next),[Object(y.a)({},e.scores.current)]);return Object(y.a)(Object(y.a)({},e),{},{scores:{previous:t,current:r,next:n}})}(e);case"redo":return function(e){if(!e.scores.next.length)return e;var t=Object(m.a)(e.scores.next),r=t.pop(),n=[].concat(Object(m.a)(e.scores.previous),[Object(y.a)({},e.scores.current)]);return Object(y.a)(Object(y.a)({},e),{},{scores:{previous:n,current:r,next:t}})}(e);case"closeAlert":return function(e){return Object(y.a)(Object(y.a)({},e),{},{showAlert:!1})}(e);default:throw new Error}}var j=Object(a.createContext)(),O={player1:"Ant",player2:"Felix",winner:null,showAlert:!1,scores:{previous:[],current:{player1:0,player2:0},next:[]}},E=function(e){var t=Object(a.useReducer)(w,O),r=Object(f.a)(t,2),n=r[0],c=r[1];return o.a.createElement(j.Provider,{value:{state:n,dispatch:c}},e.children)},x=r(111),k=r(119),C=r(120),N=r(52),S=r.n(N),A=r(53),W=r.n(A),P=r(54),F=r.n(P),B={borderBottom:"1px solid ".concat(p.a[800]),display:"flex"};var D=function(){var e=Object(a.useContext)(j).dispatch;return o.a.createElement(x.a,{container:!0,justify:"flex-start"},o.a.createElement(k.a,Object.assign({p:2,bgcolor:p.a[700],width:1},B),o.a.createElement(C.a,{"aria-label":"refresh",onClick:function(){e({type:"reset"})}},o.a.createElement(S.a,null)),o.a.createElement(C.a,{"aria-label":"undo",onClick:function(){e({type:"undo"})}},o.a.createElement(W.a,null)),o.a.createElement(C.a,{"aria-label":"redo",onClick:function(){e({type:"redo"})}},o.a.createElement(F.a,null))))},R=r(118),U=Object(d.a)((function(e){return{form:{display:"flex",flexDirection:"row"},textField:{flex:"1",marginRight:e.spacing(1)},border:{borderBottom:"1px solid ".concat(p.a[700])}}}));var z=function(){var e=U(),t=Object(a.useContext)(j),r=t.state,n=t.dispatch;return o.a.createElement(k.a,{p:2,bgcolor:p.a[500],width:1,className:e.border},o.a.createElement("form",{className:e.form,noValidate:!0,autoComplete:"off"},o.a.createElement(R.a,{id:"player1",label:"Player 1",value:r.player1,className:e.textField,onChange:function(e){n({type:"updatePlayerName",payload:{player:"player1",name:e.target.value}})}}),o.a.createElement(R.a,{id:"player2",label:"Player 2",value:r.player2,className:e.textField,onChange:function(e){n({type:"updatePlayerName",payload:{player:"player2",name:e.target.value}})}})))},H=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"row",flexGrow:"1"},score:{flex:"1",fontSize:"3rem"}}}));var I=function(){var e=H(),t=Object(a.useContext)(j),r=t.state,n=t.dispatch;return o.a.createElement(k.a,{p:2,bgcolor:p.a[300],width:1,className:e.root},o.a.createElement(k.a,{className:e.score,onClick:function(){n({type:"updateScore",payload:"player1"})}},r.scores.current.player1),o.a.createElement(k.a,{className:e.score,onClick:function(){n({type:"updateScore",payload:"player2"})}},r.scores.current.player2))},J=r(123),L=r(121);var q=function(){var e=Object(a.useContext)(j),t=e.state,r=e.dispatch,n=function(e,t){"clickaway"!==t&&r({type:"closeAlert"})};return o.a.createElement(J.a,{open:t.showAlert,autoHideDuration:12e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(L.a,{severity:"success",onClose:n},"".concat(t[t.winner]," WINS")))},G=Object(d.a)({root:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:p.a[300],padding:"0"}});var M=function(){var e=G();return o.a.createElement(s.a,{className:e.root},o.a.createElement(E,null,o.a.createElement(D,null),o.a.createElement(z,null),o.a.createElement(I,null),o.a.createElement(q,null)))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r(77);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,null),o.a.createElement(M,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var t=new URL("/score-keeper",window.location.href);if(t.origin!==window.location.origin)return console.log("public url: ".concat(t.origin)),void console.log("location url: ".concat(window.location.origin));window.addEventListener("load",(function(){var t="".concat("/score-keeper","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker")}))):V(t,e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.6694c6d1.chunk.js.map